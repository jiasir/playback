<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NovaCompute &mdash; Playback 0.3.9 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Playback 0.3.9 documentation" href="index.html" />
    <link rel="next" title="Neutron" href="neutron.html" />
    <link rel="prev" title="Nova" href="nova.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-playback.nova_compute">
<span id="novacompute"></span><h1>NovaCompute<a class="headerlink" href="#module-playback.nova_compute" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="playback.nova_compute.NovaCompute">
<em class="property">class </em><code class="descclassname">playback.nova_compute.</code><code class="descname">NovaCompute</code><span class="sig-paren">(</span><em>user='ubuntu'</em>, <em>hosts=None</em>, <em>key_filename=None</em>, <em>password=None</em>, <em>parallel=True</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#playback.nova_compute.NovaCompute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">playback.common.Common</span></code></p>
<p>Deploy Nova compute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user(str)</strong> &#8211; the user for remote server to login</li>
<li><strong>hosts(list)</strong> &#8211; this is a second param</li>
<li><strong>key_filename(str)</strong> &#8211; the ssh private key to used, default None</li>
<li><strong>password(str)</strong> &#8211; the password for remote server</li>
<li><strong>parallel(bool)</strong> &#8211; paralleler execute on remote server, default True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Examples:</th><td class="field-body"><div class="first last highlight-python"><div class="highlight"><pre><span></span><span class="c1"># create nova compute instances</span>
<span class="n">nova_compute1</span> <span class="o">=</span> <span class="n">NovaCompute</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span><span class="p">,</span> <span class="n">hosts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;compute1&#39;</span><span class="p">])</span>
<span class="n">nova_compute2</span> <span class="o">=</span> <span class="n">NovaCompute</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span><span class="p">,</span> <span class="n">hosts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;compute2&#39;</span><span class="p">])</span>
<span class="n">nova_compute3</span> <span class="o">=</span> <span class="n">NovaCompute</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span><span class="p">,</span> <span class="n">hosts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;compute3&#39;</span><span class="p">])</span>
<span class="n">nova_compute4</span> <span class="o">=</span> <span class="n">NovaCompute</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span><span class="p">,</span> <span class="n">hosts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;compute4&#39;</span><span class="p">])</span>

<span class="c1"># install nova compute</span>
<span class="n">nova_compute1</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
    <span class="n">my_ip</span><span class="o">=</span><span class="s1">&#39;192.168.1.11&#39;</span><span class="p">,</span>
    <span class="n">rabbit_hosts</span><span class="o">=</span><span class="s1">&#39;controller1,controller2&#39;</span><span class="p">,</span>
    <span class="n">rabbit_user</span><span class="o">=</span><span class="s1">&#39;openstack&#39;</span><span class="p">,</span>
    <span class="n">rabbit_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">auth_uri</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:5000&#39;</span><span class="p">,</span>
    <span class="n">auth_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:35357&#39;</span><span class="p">,</span>
    <span class="n">nova_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">novncproxy_base_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:6080/vnc_auto.html&#39;</span><span class="p">,</span>
    <span class="n">glance_api_servers</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9292&#39;</span><span class="p">,</span>
    <span class="n">neutron_endpoint</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9696&#39;</span><span class="p">,</span>
    <span class="n">neutron_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">rbd_secret_uuid</span><span class="o">=</span><span class="s1">&#39;changeme-0000-0000-0000-000000000000&#39;</span><span class="p">,</span>
    <span class="n">memcached_servers</span><span class="o">=</span><span class="s1">&#39;controller1:11211,controller2:11211&#39;</span>
<span class="p">)</span>
<span class="n">nova_compute2</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
    <span class="n">my_ip</span><span class="o">=</span><span class="s1">&#39;192.168.1.12&#39;</span><span class="p">,</span>
    <span class="n">rabbit_hosts</span><span class="o">=</span><span class="s1">&#39;controller1,controller2&#39;</span><span class="p">,</span>
    <span class="n">rabbit_user</span><span class="o">=</span><span class="s1">&#39;openstack&#39;</span><span class="p">,</span>
    <span class="n">rabbit_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">auth_uri</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:5000&#39;</span><span class="p">,</span>
    <span class="n">auth_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:35357&#39;</span><span class="p">,</span>
    <span class="n">nova_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">novncproxy_base_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:6080/vnc_auto.html&#39;</span><span class="p">,</span>
    <span class="n">glance_api_servers</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9292&#39;</span><span class="p">,</span>
    <span class="n">neutron_endpoint</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9696&#39;</span><span class="p">,</span>
    <span class="n">neutron_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">rbd_secret_uuid</span><span class="o">=</span><span class="s1">&#39;changeme-0000-0000-0000-000000000000&#39;</span><span class="p">,</span>
    <span class="n">memcached_servers</span><span class="o">=</span><span class="s1">&#39;controller1:11211,controller2:11211&#39;</span>
<span class="p">)</span>
<span class="n">nova_compute3</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
    <span class="n">my_ip</span><span class="o">=</span><span class="s1">&#39;192.168.1.13&#39;</span><span class="p">,</span>
    <span class="n">rabbit_hosts</span><span class="o">=</span><span class="s1">&#39;controller1,controller2&#39;</span><span class="p">,</span>
    <span class="n">rabbit_user</span><span class="o">=</span><span class="s1">&#39;openstack&#39;</span><span class="p">,</span>
    <span class="n">rabbit_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">auth_uri</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:5000&#39;</span><span class="p">,</span>
    <span class="n">auth_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:35357&#39;</span><span class="p">,</span>
    <span class="n">nova_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">novncproxy_base_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:6080/vnc_auto.html&#39;</span><span class="p">,</span>
    <span class="n">glance_api_servers</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9292&#39;</span><span class="p">,</span>
    <span class="n">neutron_endpoint</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9696&#39;</span><span class="p">,</span>
    <span class="n">neutron_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">rbd_secret_uuid</span><span class="o">=</span><span class="s1">&#39;changeme-0000-0000-0000-000000000000&#39;</span><span class="p">,</span>
    <span class="n">memcached_servers</span><span class="o">=</span><span class="s1">&#39;controller1:11211,controller2:11211&#39;</span>
<span class="p">)</span>
<span class="n">nova_compute4</span><span class="o">.</span><span class="n">install</span><span class="p">(</span>
    <span class="n">my_ip</span><span class="o">=</span><span class="s1">&#39;192.168.1.14&#39;</span><span class="p">,</span>
    <span class="n">rabbit_hosts</span><span class="o">=</span><span class="s1">&#39;controller1,controller2&#39;</span><span class="p">,</span>
    <span class="n">rabbit_user</span><span class="o">=</span><span class="s1">&#39;openstack&#39;</span><span class="p">,</span>
    <span class="n">rabbit_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">auth_uri</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:5000&#39;</span><span class="p">,</span>
    <span class="n">auth_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:35357&#39;</span><span class="p">,</span>
    <span class="n">nova_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">novncproxy_base_url</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:6080/vnc_auto.html&#39;</span><span class="p">,</span>
    <span class="n">glance_api_servers</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9292&#39;</span><span class="p">,</span>
    <span class="n">neutron_endpoint</span><span class="o">=</span><span class="s1">&#39;http://192.168.1.1:9696&#39;</span><span class="p">,</span>
    <span class="n">neutron_pass</span><span class="o">=</span><span class="s1">&#39;changeme&#39;</span><span class="p">,</span>
    <span class="n">rbd_secret_uuid</span><span class="o">=</span><span class="s1">&#39;changeme-0000-0000-0000-000000000000&#39;</span><span class="p">,</span>
    <span class="n">memcached_servers</span><span class="o">=</span><span class="s1">&#39;controller1:11211,controller2:11211&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="playback.nova_compute.NovaCompute.install">
<code class="descname">install</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#playback.nova_compute.NovaCompute.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Install nova compute</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>my_ip</strong> &#8211; (String) IP address of this host</li>
<li><strong>rabbit_hosts</strong> &#8211; RabbitMQ HA cluster host:port pairs. (list value) e.g. <cite>CONTROLLER1,CONTROLLER2</cite></li>
<li><strong>rabbit_user</strong> &#8211; The RabbitMQ userid. (string value) e.g. <cite>openstack</cite></li>
<li><strong>rabbit_pass</strong> &#8211; The RabbitMQ password. (string value)</li>
<li><strong>auth_uri</strong> &#8211; (String) Complete public Identity API endpoint. e.g. <cite>http://CONTROLLER_VIP:5000</cite></li>
<li><strong>auth_url</strong> &#8211; (String) Authentication endpoint e.g. <cite>http://CONTROLLER_VIP:35357</cite></li>
<li><strong>nova_pass</strong> &#8211; passowrd of <cite>nova</cite> user</li>
<li><strong>novncproxy_base_url</strong> &#8211; (String) Public address of noVNC VNC console proxy. The VNC proxy is an OpenStack component that enables compute service users to access their instances through VNC clients. noVNC provides VNC support through a websocket-based client. This option sets the public base URL to which client systems will connect. noVNC clients can use this address to connect to the noVNC instance and, by extension, the VNC sessions. Possible values: * A URL Services which consume this: * nova-compute Related options: * novncproxy_host * novncproxy_port e.g. <cite>http://CONTROLLER_VIP:6080/vnc_auto.html</cite></li>
<li><strong>glance_api_servers</strong> &#8211; (List) A list of the glance api servers endpoints available to nova. These should be fully qualified urls of the form scheme://hostname:port[/path] e.g. <cite>http://CONTROLLER_VIP:9292</cite></li>
<li><strong>neutron_endpoint</strong> &#8211; neutron endpoint e.g. <cite>http://CONTROLLER_VIP:9696</cite></li>
<li><strong>neutron_pass</strong> &#8211; the password of <cite>neutron</cite> user</li>
<li><strong>rbd_secret_uuid</strong> &#8211; ceph rbd secret for nova libvirt , generated by <cite>uuidgen</cite></li>
<li><strong>memcached_servers</strong> &#8211; A list of memcached server(s) to use for caching. (list value) e.g. <cite>CONTROLLER1:11211,CONTROLLER2:11211</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="nova.html" title="previous chapter">Nova</a></li>
      <li>Next: <a href="neutron.html" title="next chapter">Neutron</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/nova_compute.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, jiasir.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/nova_compute.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>